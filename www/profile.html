<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, viewport-fit=cover">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="format-detection" content="telephone=no">
    <meta name="facebook-domain-verification" content="yffgkm3rbj1wpy0b1ghgrscxbmp4p3" />
    <link rel="stylesheet" type="text/css" href="css/intlTelInput.css">
    <title>BC Remit | Update Profile</title>
    <link rel="icon" href="./assets/images/favicon.ico">
    <script type="text/javascript" src="cordova.js"></script>
    <link rel="stylesheet" type="text/css" href="./styles/main.min.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" type="text/css" href="css/jquery.modal.min.css">
    <!-- Facebook Pixel Code -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
         fbq('init', '407432117177223'); 
        fbq('track', 'PageView');
        </script>
        <noscript>
         <img height="1" width="1" 
        src="https://www.facebook.com/tr?id=407432117177223&ev=PageView
        &noscript=1"/>
        </noscript>
        <!-- End Facebook Pixel Code -->
</head>
<body>
    <header class="header db-nav">
        <div class="container container-custom">
            <div class="header-inner">
                <h2 class="header-title title">Update Profile</h2>
                <a href="settings.html" class="btn-close">
                    <svg version="1.1" id="Capa_1" class="close-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                         viewBox="0 0 47.971 47.971" xml:space="preserve">
                    <g>
                    <path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88
              c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242
              C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879
              s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z" />
          </g>
          </svg>
                </a>
            </div>
        </div>
    </header>
    <!-------------splash----------------------------------->
    <main class="splash-screen" id="wait" style="display:none">
        <div class="container">
            <div class="content-holder">
                <div class="loader-holder">
                    <div class="loader">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <div id="alertMe" class="overlay" style="display: none;">
        <div class="popup">
            <h3>Alert</h3>
            <a class="close" href="#" onclick="redirectMe();">&times;</a>
            <div class="content">
                <span id="alertMsg"></span>
                <p>
                    <input id="btnDone" type="button" value="Ok" class="btn btn-blue btn-new" onclick="redirectMe();" />
                </p>

            </div>
        </div>
    </div>
    <main class="update-profile" id="MainBlock">
        <div class="details-holder">
            <div class="container">
                <div style="color:#4800ff;font-size:medium;display:none" id="alertBox">
                    <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
                    <span id="msg">This is an alert box.</span>
                </div>
                <h3 class="subtitle">My Details</h3>
                <form>
                    <div class="input-holder">
                        <p class="input-title">Customer Number</p>
                        <input class="input-textbox" id="lblCifNo" type="text" value="" disabled>
                    </div>
                    <div class="input-holder">
                        <p class="input-title">Full Name</p>
                        <input class="input-textbox" id="lblName" type="text" value="" disabled>
                    </div>
                    <div class="input-holder">
                        <p class="input-title">Date of Birth</p>
                        <input class="input-textbox" id="lblDOB" type="text" value="" disabled>
                    </div>
                    <div class="input-holder">
                        <p class="input-title">Country</p>
                        <label id="txtMDCountry" style="color:#45b3e0; font-weight:500;" onclick="clearInputError('err1');"></label>
                    </div>
                    <div class="input-holder" id="12">
                        <p class="input-title">Mobile Number</p>
                        <input class="input-textbox" id="lblMobileNo" onkeyup="this.value = this.value.replace(/[^0-9]/g,'')" type="tel" onclick="clearInputError('err1');" value="" required><br />
                        <span style="color:#f00;font-size:small" id="err1"></span>
                        <div id="10"></div>
                    </div>
                    <div class="input-holder">
                        <p class="input-title">Address Line 1</p>
                        <input class="input-textbox" id="txtMDAddr1" type="text" value="" onclick="clearInputError('err2');" required>
                        <span style="color:#f00;font-size:small" id="err2"></span>
                    </div>
                    <div class="input-holder">
                        <p class="input-title">Address Line 2</p>
                        <input class="input-textbox" id="txtMDAddr2" type="text" value="" onclick="clearInputError('err3');" required>
                        <span style="color:#f00;font-size:small" id="err3"></span>
                    </div>
                    <div class="input-holder">
                        <p class="input-title">City / Town</p>
                        <input class="input-textbox" id="txtMDAddr3" type="text" value="" onclick="clearInputError('err4');" required>
                        <span style="color:#f00;font-size:small" id="err4"></span>
                    </div>
                    <div class="input-holder">
                        <p class="input-title" id="profile_code">Post Code</p>
                        <input class="input-textbox" id="txtMDPostcode" type="text" value="" onclick="clearInputError('err5');" required>
                        <span style="color:#f00;font-size:small" id="err5"></span>
                    </div>
                </form>
                <div class="button-holder bottom">
                    <a href="#ex1" type="button" class="btn btn-blue btn-new" onclick="updateMyDetail('myDetail');" id="save_cust_data">Save Changes</a>
                    <a href="settings.html" class="btn btn-border-grey btn-new-radius-red">Cancel</a>
                </div>
            </div>
        </div>
    </main>

    <div id="ex1" class="modal" style="display:none">
        <p style="text-align: center;">
            <label class="header-title title" style="text-align:center;color:#05294b">Verification Code</label><br />
            <label style="text-align: center;font-size:medium;color:#758898;">For your security, we will send an SMS Verification Code to your mobile number.</label><br /><br />
            <label class="header-title title" style="font:medium;color: #237afc;" id="numberToVerify"></label>
        </p>

        <p style="text-align:center;font-size:medium;">Is your mobile number correct?</p>
        <div style="display:flex;justify-content:space-between">
            <a href="#" class="btn btn-link btn-new-radius-red"  rel="modal:close" style="color:#237afc;text-decoration:none;color: #888;border: 1px solid #888;width: 45%;">Edit</a>
            <a href="#" class="btn btn-link btn-new" onclick="updateMyDetail('newNumber');" style="text-decoration:none;float:right;background: #237afc;color: white;width: 45%;">Yes</a>
        </div>
    </div>

    <footer class="footerConnection no-internet-connection" style="display: none;">
        <div style="display: flex;justify-content: center; align-items: center;height: 5vh;">
            <img src="" alt="" height="20px" width="20px" class="footerConnectionImage">
            <span class="foooterConnectionMsg" style="margin-left: 3%;"></span>
        </div>
    </footer>
    
    <input id="txtFDCallFrom" type="hidden" value="" />
    <input id="txtGoTo" type="hidden" />
    <input id="txtOldnumber" type="hidden" />

    <script src="./scripts/vendors/jquery-3.0.0.min.js"></script>
    <script src="./scripts/vendors/jquery.modal.min.js"></script>
    <script type="text/javascript" src="js/defaultJSONData.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script src="js/intlTelInput.js"></script>
    <script src="./scripts/vendors/jquery.min.js"></script>
    <script src="./scripts/vendors/tether.min.js"></script>
    <script src="./scripts/vendors/swiper.min.js"></script>
    <script src="./scripts/vendors/jquery.mask.min.js"></script>
    <script src="./scripts/vendors/jquery.passwordify.min.js"></script>
    <script src="./scripts/core/base.js"></script>
    <script src="./scripts/modules/theme-module.js"></script>
    <script src="./scripts/bootstrapper.js"></script>
    <script type="text/javascript">
        storage.setItem("NOW", "profile");
        storage.setItem("statusVerification", 3);
        var status = storage.getItem("txtDtlStatus");
        var input;
        if (status == "Incomplete") {
            window.location.href = "complete_profile.html";
        } else {
            getCustomerDetail();    
        }
         
        function getCountryFlagsCcyResponse(res){
            var obj = "";
            var arr = [];
            for (var i = 0; i <= res.pCode.length - 1; i++) {
                obj = res.pCode[i];
                if(obj.code === "UK"){
                    arr.push("GB");
                }else{
                    arr.push(obj.code);
                }
                console.log(arr);
            }
            $("#lblMobileNo").val(storage.getItem("profnum"));
            input = document.querySelector("#lblMobileNo");
            window.intlTelInput(input, {
                dropdownContainer: document.getElementById("12"),
                formatOnDisplay: false,
                initialCountry: storage.getItem("initCountry"),
                onlyCountries: arr,
                preferredCountries: ['cn', 'jp'],
                separateDialCode: true,
                utilsScript: "js/utils.js",
            });                
            console.log(arr);
        }
    </script>
</body>
</html>
