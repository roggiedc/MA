<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, viewport-fit=cover">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="format-detection" content="telephone=no">
  <meta name="facebook-domain-verification" content="yffgkm3rbj1wpy0b1ghgrscxbmp4p3" />
  <title>BCRemit | New Beneficiary</title>
  <script type="text/javascript" src="cordova.js"></script>
  <link rel="icon" href="./assets/images/favicon.ico">
  <link rel="stylesheet" type="text/css" href="./styles/main.min.css">
  <link rel="stylesheet" type="text/css" href="css/index.css">
  <link rel="stylesheet" type="text/css" href="css/jquery.modal.min.css">
    <style>
      .button:disabled {
        opacity: 1;
      }

      .hide {
          display: none;
      }
  </style>
      <!-- Facebook Pixel Code -->
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window,document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
   fbq('init', '407432117177223'); 
   fbq('track', 'CompleteRegistration');
  </script>
  <noscript>
   <img height="1" width="1" 
  src="https://www.facebook.com/tr?id=407432117177223&ev=CompleteRegistration
  &noscript=1"/>
  </noscript>
  <!-- End Facebook Pixel Code -->
</head>

<body>
  <header class="header db-nav">
    <div class="container container-custom">
      <div class="header-inner">
        <h2 class="header-title title">New Beneficiary</h2>
        <a href="dashboard.html" class="btn-close close-beneficiary">
          <svg version="1.1" id="Capa_1" class="close-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          viewBox="0 0 47.971 47.971" xml:space="preserve">
            <g>
              <path d="M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88
              c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242
              C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879
              s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z"/>
            </g>
          </svg>
        </a>
      </div>
    </div>
  </header>
<!-------------splash----------------------------------->
    <main class="splash-screen" id="wait" style="display:none">
    <div class="container">
      <div class="content-holder">
        <div class="loader-holder">
          <div class="loader">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
          </div>
        </div>
      </div>
    </div>
  </main>
    <div id="alertMe" class="overlay" style="display: none;">
        <div class="popup">
            <h3>Alert</h3>
            <a class="close" href="#" onclick="redirectMe();">&times;</a>
            <div class="content">
                <span id="alertMsg"></span>
                  <p>
                  <input id="btnDone" type="button" value="Ok" class="btn btn-blue btn-new" onclick="redirectMe();" /></p>
            </div>
        </div>
    </div>
  <main class="new-beneficiary-s1" id="step1">
    <div class="section-beneficiary-details">
      <div class="container">
        <div class="title-holder">
          <p class="title">Beneficiary Details</p>
        </div>
          <!-- <div style="color:#4800ff;font-size:medium;display:none" id="alertBox">
                <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
                        <span id="msg">This is an alert box.</span>
              </div> -->
        <div class="form-holder">
            <form id="form-newBeneficiaryS1" class="form-wrapper" name="form-newBeneficiaryS1">
                <div class="form-group">
                    <label for="firstName" class="form-label"></label>
                    <div class="form-controls">
                        <div class="input-holder">
                            <p class="input-title">First Name</p>
                            <input class="input-textbox textbox" id="txtBeneFName" onclick="clearInputError('err1');" type="text" value="" required>
                            <span style="color:#f00;font-size:small" id="err1"></span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="firstName" class="form-label"></label>
                    <div class="form-controls">
                        <div class="input-holder">
                            <p class="input-title">Middle Name (Optional)</p>
                            <input class="input-textbox textbox" id="txtBeneMName" onclick="clearInputError('err2');" type="text" value="">
                            <span style="color:#f00;font-size:small" id="err2"></span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="firstName" class="form-label"></label>
                    <div class="form-controls">
                        <div class="input-holder">
                            <p class="input-title">Last Name</p>
                            <input class="input-textbox textbox" id="txtBeneLName" type="text" onclick="clearInputError('err3');" value="" required>
                            <span style="color:#f00;font-size:small" id="err3"></span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="firstName" class="form-label"></label>
                    <div class="form-controls">
                        <div class="input-holder">
                            <p class="input-title">Mobile Number (Optional)</p>
                            <input class="input-textbox textbox" onkeyup="this.value = this.value.replace(/[^0-9]+/g,'')" id="txtBeneMobile" onclick="clearInputError('err4');" type="tel" value="">
                            <span style="color:#f00;font-size:small" id="err4"></span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="relationship" class="form-label"></label>
                    <div class="form-controls">
                        <div class="input-holder">
                            <p class="input-title">Relationship</p>
                            <select class="input-select" id="ddlRelationship" >
                            </select>
                
                        </div>
                    </div>
                </div>
                <div class="bottom btn-holder">
                    <a href="#" class="btn btn-blue next btn-new" onclick="beneSignUp('01');">Next</a>
                </div>
            </form>
        </div>
      </div>
    </div>
  </main>

    <main class="new-beneficiary-s2" id="step2" style="display:none">
    <div class="section-beneficiary-details">
      <div class="container">
        <div class="title-holder">
          <p class="title">Beneficiary Address</p>
        </div>
          <!-- <div style="color:#4800ff;font-size:medium;display:none" id="alertBox2">
                <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
                        <span id="msg2">This is an alert box.</span>
              </div> -->
        <div class="form-holder">
          <form id="form-newBeneficiaryS2" class="form-wrapper" name="form-newBeneficiaryS2">
            <div class="form-group">
              <label for="addressOne" class="form-label"></label>
              <div class="form-controls">
                <div class="input-holder">
                  <p class="input-title">Address Line 1</p>
                  <input class="input-textbox textbox" id="txtBeneAddr1" onclick="clearInputError('err5');" type="text" value="" required>
                    <span style="color:#f00;font-size:small" id="err5"></span>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="addressTwo" class="form-label"></label>
              <div class="form-controls">
                <div class="input-holder">
                  <p class="input-title">Address Line 2 (Optional)</p>
                  <input class="input-textbox textbox" id="txtBeneAddr2" onclick="clearInputError('err6');" type="text" value="">
                    <span style="color:#f00;font-size:small" id="err6"></span>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="city" class="form-label"></label>
              <div class="form-controls">
                <div class="input-holder">
                  <p class="input-title">City / Town</p>
                  <input class="input-textbox textbox" id="txtBeneAddr3" onclick="clearInputError('err7');" type="text" value="" required>
                    <span style="color:#f00;font-size:small" id="err7"></span>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="zipCode" class="form-label"></label>
              <div class="form-controls">
                <div class="input-holder">
                  <p class="input-title" id="Beneficiary_Code">Zip Code (Optional)</p>
                  <input class="input-textbox textbox" id="txtBenePostCode" onclick="clearInputError('err8');" type="text" value="" required>
                    <span style="color:#f00;font-size:small" id="err8"></span>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="country" class="form-label"></label>
              <div class="form-controls">
                <div class="input-holder">
                  <p class="input-title">Country</p>
                  <select class="input-select select" id="txtBeneCountry" required onchange="getDeliveryOptionBasedOnCountryCreate()"></select>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="country" class="form-label"></label>
              <div class="form-controls">
                <div class="input-holder">
                  <p class="input-title">Delivery Option</p>
                  <select class="input-select select" id="txtProduct" required></select>
                  <span style="color:#f00;font-size:small" id="errDeliveryOption"></span>
                </div>
              </div>
            </div>
            <div class="bottom btn-holder">
              <a href="#" class="btn btn-blue next btn-new" onclick="beneSignUp('02');">Next</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>
    <main class="new-beneficiary-s3" id="step3" style="display:none">
    <div class="section-beneficiary-details">
      <div class="container">
        <div class="title-holder">
          <p class="title">Bank information</p>
        </div>
          <!-- <div style="color:#4800ff;font-size:medium;display:none" id="alertBox3">
                <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
                        <span id="msg3">This is an alert box.</span>
              </div> -->
        <div class="form-holder">
            <form id="form-newBeneficiaryS3" class="form-wrapper" name="form-newBeneficiaryS3">
                <div id="eWalletInfo" style="display:none;">
                    <div class="form-group">
                        <label for="bank" class="form-label"></label>
                        <div class="form-controls">
                            <div class="input-holder">
                                <p class="input-title">Choose E-Wallet</p>
                                <select class="input-select select" id="txtEWBank" required></select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="accountNo" class="form-label"></label>
                        <div class="form-controls">
                            <div class="input-holder">
                                <p class="input-title">Account Number</p>
                                <input class="input-textbox textbox" onkeyup="this.value = this.value.replace(/[^0-9]/g,'')" id="txtEWAcctNo" onclick="clearInputError('err11');" type="number" value="" required>
                                <span style="color:#f00;font-size:small" id="err11"></span>
                            </div>
                        </div>
                    </div>
                    <div class="bottom btn-holder">
                      <a href="#" class="btn btn-blue save btn-new" onclick="beneSignUp('03');">Save Beneficiary</a>
                  </div>
                </div>
                <div id="bankInfo">
                    <div class="form-group">
                        <label for="bank" class="form-label"></label>
                        <div class="form-controls">
                            <div class="input-holder">
                                <p class="input-title">Choose Bank</p>
                                <select class="input-select select" id="txtBeneBank" required>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="bankBranch" class="form-label"></label>
                        <div class="form-controls">
                            <div class="input-holder">
                                <p class="input-title">Bank Branch (Optional)</p>
                                <input class="input-textbox textbox" id="txtBranch" onclick="clearInputError('err9');" type="text" value="">
                                <span style="color:#f00;font-size:small" id="err9"></span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="accountNo" class="form-label"></label>
                        <div class="form-controls">
                            <div class="input-holder">
                                <p class="input-title">Account Number</p>
                                <input class="input-textbox textbox" onkeyup="this.value = this.value.replace(/[^0-9]/g,'')" id="txtAcctNo" type="number" value="" onclick="clearInputError('err10');" required>
                                <span style="color:#f00;font-size:small" id="err10"></span>
                            </div>
                        </div>
                    </div>

                    <div class="bottom btn-holder">
                      <a href="#" class="btn btn-blue save btn-new" onclick="beneSignUp('03');">Save Beneficiary</a>
                  </div>
                </div>

                <div id="bankInfoUKandES">
                  <div class="form-group SortCodetxtSortCode">
                      <label for="bankBranch" class="form-label"></label>
                      <div class="form-controls">
                          <div class="input-holder">
                              <p class="input-title">Sort Code</p>
                              <input class="input-textbox textbox" onkeyup="this.value = this.value.replace(/[^0-9]/g,'')" id="bene_sort_code" onclick="clearInputError('err12');" type="number" value="" >
                              <span style="color:#f00;font-size:small" id="err12"></span>
                          </div>
                      </div>
                  </div>

                  <div class="form-group IBANtxtIBAN">
                    <label for="bankBranch" class="form-label"></label>
                    <div class="form-controls">
                        <div class="input-holder">
                            <p class="input-title">IBAN</p>
                            <input class="input-textbox textbox" id="bene_IBAN" onclick="clearInputError('err13');" type="text" value="">
                            <span style="color:#f00;font-size:small" id="err13"></span>
                        </div>
                    </div>
                  </div>

                  <div class="form-group uk_es_accountnumber">
                      <label for="accountNo" class="form-label"></label>
                      <div class="form-controls">
                          <div class="input-holder">
                              <p class="input-title">Account Number</p>
                              <input class="input-textbox textbox" onkeyup="this.value = this.value.replace(/[^0-9]/g,'')" id="txtAcctNoUKES" type="number" value="" onclick="clearInputError('err14');" required>
                              <span style="color:#f00;font-size:small" id="err14"></span>
                          </div>
                      </div>
                  </div>
                  <div class="bottom btn-holder">
                    <a href="#ex1" rel="modal:open" class="btn btn-blue save btn-new" id="nextBene" onclick="errorMsg()">Next</a>
                </div>
              </div>
            </form>
        </div>
      </div>
    </div>
  </main>

  <div id="ex1" class="modal" style="display: none;width: 100%;margin-top: 25%;">
    <p style="text-align: center;">
        <span class="header-title title benetitle" style="text-align:center;color:#05294b;">Confirm Beneficiary Details</span><br>
        <span style="text-align: center;font-size:medium;color:#758898;">Please make sure that the account details of your beneficiary is correct.</span><br><hr style="width: 100%;">
        <div>
          <div  id="_m_sortcode_container" style="display: flex;align-items: start;justify-content: space-between;flex-direction: column;margin-top: 10px;">
            <label style="font-size: smaller;font-weight: 600;">Sort code</label>
            <label style="float: right;font-size: smaller;word-break: break-all;" id="_m_sortcode"></label>
          </div>
          <div  id="_m_iban_container" style="display: flex;align-items: start;justify-content: space-between;flex-direction: column;margin-top: 10px;">
            <label style="font-size: smaller;font-weight: 600;">IBAN</label>
            <label style="float: right;font-size: smaller;word-break: break-all;" id="_m_iban"></label>
          </div>
          <div  id="_m_acc_number_container" style="display: flex;align-items: start;justify-content: space-between;flex-direction: column;margin-top: 10px;">
            <label style="font-size: smaller;font-weight: 600;">Account number</label>
            <label style="float: right;font-size: smaller;word-break: break-all;" id="_m_acc_number"></label>
          </div>
        </div>
    </p>
    <div style="display:flex;justify-content:space-between;">
        <div style="display: flex;align-items: center;justify-content: center;height: 15vh;flex-direction: column;width: 100%;"">
          <button class="btn btn-blue btn-new checkorSave" id="disableCJ" onclick="checkFromClearJunction()" style="color: white;width: 100%;display: flex;justify-content: center;align-items: center;">
            <span class="btn-txt">Save</span></button>
          <a href="#" class="btn btn-border-blue btn-new-radius" rel="modal:close" style="color: #888;border: 1px solid #888;width: 100%;" onclick="errorMsg()">Edit</a>        
        </div>
    </div>
</div>

  <footer class="footerConnection no-internet-connection" style="display: none;">
    <div style="display: flex;justify-content: center; align-items: center;height: 5vh;">
        <img src="" alt="" height="20px" width="20px" class="footerConnectionImage">
        <span class="foooterConnectionMsg" style="margin-left: 3%;"></span>
    </div>
  </footer>

    <input id="txtNewBeneCIF" type="hidden" />
    <input id="txtGoTo" type="hidden" />
    <script src="./scripts/vendors/jquery-3.0.0.min.js"></script>
    <script src="./scripts/vendors/jquery.modal.min.js"></script>
    <script type="text/javascript" src="js/defaultJSONData.js"></script>
    <script type="text/javascript" src="js/helper.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script src="./scripts/vendors/jquery.min.js"></script>
    <script type="text/javascript">
        storage.setItem("NOW", "beneficiary");
        getRelationShip();
        storage.removeItem("getBeneDetails");
        function getBankList() {
            var strData = "reqType=BIC&random=" + new Date().valueOf();
            var myURL = bcremit + "parameters.aspx";
            ajaxCall(myURL, strData, 'listOfBank');
        }

        function errorMsg(){
          $(".checkorSave").attr("onclick","checkFromClearJunction()");
          $(".btn-txt").text(" Save");

          var sortCode = $("#bene_sort_code").val();
          var accountNumber = $("#txtAcctNoUKES").val();
          var iban = $("#bene_IBAN").val();
          var country  = $("#txtBeneCountry").val();

          if(country == "PH"){
            beneSignUp('03');
          }          
          else if( country == "UK" ){
            $("#_m_iban_container").hide();
            $("#_m_sortcode").html(sortCode);
            $("#_m_acc_number").html(accountNumber);
            if(sortCode == "" || sortCode == null  || sortCode == undefined){
              $("#nextBene").removeAttr("rel");
              $("#err12").html("Please enter beneficiary's sort code.")
            }
            if(accountNumber == "" || accountNumber == null  || accountNumber == undefined){
              $("#nextBene").removeAttr("rel");
              $("#err14").html("Please enter beneficiary's account number.")
            } 
            else if(accountNumber != "" && sortCode != "" ){
              $("#nextBene").attr("rel", "modal:open");
            }
            
            $(".benetitle").html("Confirm Beneficiary Details");
            $(".benetitle").css("color", "#05294b");
          }
          
          else {   
            $("#_m_sortcode_container").hide();
            $("#_m_acc_number_container").hide();
            $("#_m_iban").html(iban);
            if(iban == "" || iban == null  || iban == undefined){
              $("#nextBene").removeAttr("rel");
              $("#err13").html("Please enter beneficiary's IBAN.")
            } 
             else if(iban != "" ){
              $("#nextBene").attr("rel", "modal:open");
            }

            $(".benetitle").html("Confirm Beneficiary Details");
            $(".benetitle").css("color", "#05294b");
          }
    
        }

        function responseBank(res) {
            JSONBank = res;

            var bdBank = document.getElementById("txtBeneBank");

            var option;
            var selectedIndex = 0;

            var bdList = bdBank.options.length;
           
            for (var i = 0 ; i <= res.bank_list.length - 1; i++) {
                bank = res.bank_list[i];
                bdBank.options[bdBank.options.length] = new Option(bank.bank_name, bank.bic);

            }
            
            bdBank = document.getElementById("txtEWBank");

            for (var i = 0 ; i <= res.ew_list.length - 1; i++) {
                bank = res.ew_list[i];
                bdBank.options[bdBank.options.length] = new Option(bank.bank_name, bank.bic);

            }
            GetCountryListBene()
        }

        function responseEWallet(res) {
            JSONBank = res;

            var bdBank = document.getElementById("txtEWBank");

            var option;
            var selectedIndex = 0;

            var bdList = bdBank.options.length;

            for (var i = 0 ; i <= res.bank_list.length - 1; i++) {
                bank = res.bank_list[i];
                bdBank.options[bdBank.options.length] = new Option(bank.bank_name, bank.bic);

            }
        }

  
        </script>
</body>

</html>